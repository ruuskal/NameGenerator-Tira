apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'jacoco'
apply plugin: 'checkstyle'


mainClassName = 'namegenerator.Main'

repositories {
    jcenter()
}

jacoco {
    toolVersion = "0.8.6"
}

jacocoTestReport {
    reports {
        xml.enabled = true
        html.enabled = true
        html.destination file("build/jacocoHtml")
    }
}

check.dependsOn jacocoTestReport

dependencies {
    testCompile 'junit:junit:4.12'
}

checkstyle {
    toolVersion = '8.1'
    configFile file("config/checkstyle/checkstyle.xml")
}
checkstyleMain {
    source ='src/main/java'
}
checkstyleTest {
    source ='src/test/java'
}

run {
    standardInput = System.in
}

task checkstyle(type: Checkstyle) {
    configFile rootProject.file('checkstyle.xml')
    source 'src/main/java'
    ignoreFailures true
    showViolations true
    include '**/*.java'

    classpath = files()
}
